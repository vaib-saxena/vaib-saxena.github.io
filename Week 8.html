<!DOCTYPE html>
<html lang="en">
<head>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-133557840-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-133557840-1');
</script>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="author" content="">
<title>Week 8-Vaibhav Saxena</title>
<!-- Bootstrap Core CSS -->
<link href="css/bootstrap.min.css" rel="stylesheet">
<!-- Custom CSS -->
<link href="css/theme.css" rel="stylesheet">
<!-- Font Awesome -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
<!-- Google Fonts -->   
<link href="http://fonts.googleapis.com/css?family=Open+Sans:300,400,700,400italic,700italic|Montserrat:400,700" rel="stylesheet" type="text/css">
<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
	<title>mySketch</title>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.2/p5.min.js"></script>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.2/addons/p5.dom.js"></script>
	<script type="text/javascript" src="js/sketch_bits.js"></script>
</head>
<body id="page-top" data-spy="scroll" data-target=".navbar-fixed-top">
<!-- Navigation -->
<nav class="navbar navbar-custom navbar-fixed-top" role="navigation">
<div class="container">
	<div class="navbar-header">
		<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-main-collapse">
		<i class="fa fa-bars"></i>
		</button>
		<a class="navbar-brand page-scroll" href="about.html"><strong> About</strong></a></div>
	<!-- Collect the nav links, forms, and other content for toggling -->
	<div class="collapse navbar-collapse navbar-right navbar-main-collapse">
		<ul class="nav navbar-nav">
		  <li> <a href="index.html"><strong>Home</strong></a> </li>
		  <li> <a href="Final Project.html"><strong>Final Project</strong></a> </li>
		  <li> <a <a><strong>Weekly Projects</strong></a></a>
	         <ul>
		        <li> <a href="Week 1.html"><strong>Principles and Practices</strong></a> </li>
	            <li> <a href="Week 2.html"><strong>Project Management</strong></a> </li>
				<li> <a href="Week 3.html"><strong>Computer-aided Design</strong></a> </li>
			    <li> <a href="Week 4.html"><strong>Computer-controlled Cutting</strong></a> </li>
				<li> <a href="Week 5.html"><strong>Electronics Production</strong></a> </li>
				<li> <a href="Week 6.html"><strong>3D Scanning and Printing</strong></a> </li>
				<li> <a href="Week 7.html"><strong>Electronics Design</strong></a> </li>
				<li> <a href="Week 8.html"><strong>Computer-controlled Machining</strong></a> </li>
				<li> <a href="Week 9.html"><strong>Embedded Programming</strong></a> </li>
				<li> <a href="Week 10.html"><strong>Molding and Casting</strong></a> </li>
				<li> <a href="Week 11.html"><strong>Input Devices</strong></a> </li>
				<li> <a href="Week 12.html"><strong>Output Devices</strong></a> </li>
				<li> <a href="Week 13.html"><strong>Applications and Implications</strong></a> </li>
				<li> <a href="Week 14.html"><strong>Networking and Communications</strong></a> </li>
				<li> <a href="Week 15.html"><strong>Mechanical Design</strong></a> </li>
				<li> <a href="Week 16.html"><strong>Interface and Application Programming</strong></a> </li>
				<li> <a href="Week 17.html"><strong>Machine Design</strong></a> </li>
				<li> <a href="Week 18.html"><strong>Wildcard Week</strong></a> </li>
				<li> <a href="Week 19.html"><strong>Invention, intellectual property, Income</strong></a> </li>
				<li> <a href="Week 20.html"><strong>Project Development</strong></a> </li>	
			  </ul>
	        </li>
		  <li> <a href="contact.html"><strong>Contact</strong></a> </li>
		</ul>
	</div>
	<!-- /.navbar-collapse -->
</div>
<!-- /.container -->
</nav>
<!-- Intro Header -->
<header class="intro">
<div class="intro-body">
	<div class="container">
		<div class="row">
			<div class="col-md-8 col-md-offset-2">
			  <h1 class="brand-heading">Week 8</h1>
			  <p class="intro-text"><strong> Computer-controlled Machining </strong></p>
			  <a href="#single-project" class="btn btn-circle page-scroll">
				<i class="fa fa-angle-double-down animated"></i>
				</a>
			</div>
		</div>
	</div>
</div>
</header>
<!-- Project Details Section -->
<section id="single-project">
<div class="container content-section text-center">
	<div class="row">
	  <div class="col-lg-10 col-lg-offset-1">
	    </p><h2>The big noisy week in a flash</h2>
	    <p class="text-justify"><font color="grey"><i>
			<b>1. Delay, due to unavailability of 3 axis CNC machine at our lab, we had to fix an appointment at College of Engineering, Pune (COEP) which turned out to be very inefficient, non-experimental and hence I still have to mill my design.<br><br>
			2. Finally came across a much hyped "Shop Bot" at COEP, didn't feel a great deal about it after looking at its squeaky performance, history of bad servicing and unavailabity of parts.<br><br>
			3. Wanted to see how a small(30cm x30 cm bed)and idle CNC machine fares on a 3D relief feature. Though this wasn't big and didn't fit in according to the theme of this week.</i></font><br><br></b>	
		</p>
		  <h2>CNC Milling</h2>
		  <p><strong>Group Assignment </strong></p>
		  <br>
		 <section id="gallery">
  <div class="slider-container first">
  <div class="slider">
	  <div class="slider__item">
      <img src="img/Week 8/Image/PRSAlpha_600.jpg" alt="">
		  <div class="slider__caption">Shopbot PRS Alpha used by half of us at COPE, Pune</div>
    </div>
    <div class="slider__item">
      <img src="img/Week 7/08_data5.jpg" alt="">
      <div class="slider__caption">Description of various alternative function of Pins</div>
    </div>
	  <div class="slider__item">
      <img src="img/Week 7/SHots/Screenshot_1.jpg" alt="">
      <div class="slider__caption">Fab Library loaded in EAGLE, highlighted in blue in upper left corner</div>
    </div>
	  <div class="slider__item">
      <img src="img/Week 7/SHots/Screenshot_2.jpg" alt="">
		  <div class="slider__caption">Opening a new project called "Hello World"</div>
    </div>
	  <div class="slider__item">
      <img src="img/Week 7/SHots/Screenshot_3.jpg" alt="">
		  <div class="slider__caption">Start by adding a frame that creates a boundary within which components can be placed. This is done by typing "ADD" in command line and opens a new dialog box and typing "frames". Choose based on the need</div>
    </div>
	  <div class="slider__item">
      <img src="img/Week 7/SHots/Screenshot_4.jpg" alt="">
		   <div class="slider__caption">All the components added. They can be placed around.</div>
    </div>
	  <div class="slider__item">
      <img src="img/Week 7/SHots/Screenshot_5.jpg" alt="">
		   <div class="slider__caption">Creating the schematic involves indirectly joining components by various methods. Also, VCC and GND forms a major and necessary part of every component </div>
    </div>
	  <div class="slider__item">
      <img src="img/Week 7/SHots/Screenshot_6.jpg" alt="">
		   <div class="slider__caption">Adding the schematic of Charlieplexing (on the right). It inovlved lighting 20 LEDs using only 5 pins</div>
    </div>
	  <div class="slider__item">
      <img src="img/Week 7/SHots/Screenshot_6a.jpg" alt="">
		   <div class="slider__caption">IMPORTANT STEP: Checking the schematic for errors and warnings</div>
    </div>
	  <div class="slider__item">
      <img src="img/Week 7/SHots/Screenshot_6b.jpg" alt="">
		   <div class="slider__caption">Some of the warnings can be ignored based on your design</div>
    </div>
	  <div class="slider__item">
      <img src="img/Week 7/SHots/Screenshot_7.jpg" alt="">
		   <div class="slider__caption">Shifting from schematic mode to board mode where we place the components and create/route path for them</div>
    </div>
  </div>
  <div class="slider__switch slider__switch--prev" data-ikslider-dir="prev">
    <span><svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 20 20"><path d="M13.89 17.418c.27.272.27.71 0 .98s-.7.27-.968 0l-7.83-7.91c-.268-.27-.268-.706 0-.978l7.83-7.908c.268-.27.7-.27.97 0s.267.71 0 .98L6.75 10l7.14 7.418z"/></svg></span>
  </div>
  <div class="slider__switch slider__switch--next" data-ikslider-dir="next">
    <span><svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 20 20"><path d="M13.25 10L6.11 2.58c-.27-.27-.27-.707 0-.98.267-.27.7-.27.968 0l7.83 7.91c.268.27.268.708 0 .978l-7.83 7.908c-.268.27-.7.27-.97 0s-.267-.707 0-.98L13.25 10z"/></svg></span>
  </div>
</div>
	</br>
</section> 
		   <p class="text-justify">
			   We were received by Mr. Sandeep Anasane of Fab Lab, College of Engineering, Pune, who gave us a brief introduction about   Shop Bot. Since the Shop Bot in India has a reputation of breaking down with long waiting periods upto few months, Mr Anasane was very cautious and didn't allow us to experiment with new settings.  <br><br>
He started by demonstrating us the various parts and specifications of Shop Bot: <br><br>
			   1. It is similar to a Laser Cutting machine i.e. it works on the same principle of X, Y and Z axis. Shop Bot PRSAlpha is a 3 axis CNC router machine, is numerically controlled and is subtractive in nature. <br>
			   2. Shop Bot has a bed size of 8 feex 4 feet and the Z axis has a spindle connected to it that has a maximum speed of 20000 revolutions per minute. The spindle inturn is connected to an end mill that comes in various shapes and sizes according to the geometry we want. The illustration 2, above displays the various specification of the ShopBot<br>
			   3. We next discussed about the various end mills that could be used, broadly they are categorized in three categories:<br>
			   		a. Flat End Mill- They are better for cutting profiles(outlines) and pockets on a plain geometry.  <br>
			   		b. Ball nose End Mill- When there are 3 dimentional relief features , two phases are there, first roughing, done by a flat end mill and followed by smoothing using a ball nose end mill. <br>
			   		c. V shape End Mill <br>
			   4. 
			   
			   
			   
			   
			   kinds of milling bits and their use <br><br>
1. Download the Fab library for Eagle <i><a href="https://www.autodesk.com/products/eagle/free-download" target="_blank">here </a></i>.<br>
2. Place the downloaded file fab.lbr in C:\Users\Vaibhav\AppData\Roaming\Eagle\lbr. I created a folder named Fab in lbr folder and placed the fab.lbr file there.<br>
3. Once you start EAGLE you will automatically see the fab.lbr in the control panel on the left side along with other predefined libraries.<br>
4. To get going initially, I downloaded the a sample schematic file from the Fab Academy tutorials.<br>
5. Next up, I went into the Project directory of Eagle and created a new folder named Fab and inside that another folder named Hello World, to 
keep the structure clean and keep my files for this assignment. <br>
6. By right clicking on the folder "hello world", I create a new project and a new Schematic. <br>
7. A schematic window opens up where we can draw the circuits without worrying about the component placement.<br>
8. I started by adding a frame so that my circuit looks neat. This is done by either typing add or in the left tab, look for AddPart.
This will open a new window with the library and you can go to frames and choose the one you like depending on the size of your circuit.<br>
9. One important tip while searching for components in the library. Use suffix *(wildcard on multiple characters) and ?(wildcard on
 single character)<br>
10. rcl library is highly used library in Eagle. <br><br>
				
		The basic components of the hello echo board are:<br><br>

 ATTiny 44 as MCU x1 <br>
 6 Pin AVR ISP Header x1<br>
 FTDI Header x1<br>
 20 MHz Resonator x1<br>
 1 uF Capacitor x1<br>
 10K Ohm Resistor x1<br><br>

and I further added the following:<br><br>

0K Ohm Resistor x1<br>
Switch x1<br>
Red LED for power x1 <br>
Green LED for Charlieplexing x20<br>
499 Ohm resistor x5<br><br>
			   
			   The reset button resets the whole IC, it is by default in active high state. You can attach a switch button to reset it manually to active low state. <br>

11. To make connections between the components, I extended a line from the individual components using NETS and then typed the same unique name between
various components to join them. If one wants one can also label them. <br>
12. Since I had a bad experience about how to know whether the PCB board is receiving power or not, hence I added one Red LED as soon the as the board receives power.<br>
13. Now I wanted to play around a bit with input output  and had few pins left on the ATtiny 44, hence I chose charlieplexing, a way to light up multiple LEDs in a cutomized pattern using fewer pins. I took reference of Nicolo Gnecchi's work, he has documented Charlieplexing beutifully. It can be found <i><a href="http://fab.academany.org/2018/labs/barcelona/students/nicolo-gnecchi/output-devices/" target="_blank">here </a></i>.  <br>
14. Before moving forward, an important step is to check whether all pins are connected or not. One might get some errors if some pins are unused, these can be ignored.<br>
			   
			   
	
		</p>
		  <p><strong>Board view and Routing</strong></p>
		  <br>
		<section id="gallery">
 <div class="slider-container second">
  <div class="slider">
	   <div class="slider__item">
      <img src="img/Week 7/SHots/Screenshot_8.jpg" alt="">
		    <div class="slider__caption">I wanted to check on what parameters does the autorouting depend upon. Hence, I straight away jumped into it. I wasn't particularly happy with and understood, that placement is of utmost importance for auto routing to give good results. </div>
    </div>
	  <div class="slider__item">
      <img src="img/Week 7/SHots/Screenshot_9.jpg" alt="">
		   <div class="slider__caption">Reorganizing the components</div>
    </div>
	  <div class="slider__item">
      <img src="img/Week 7/SHots/Screenshot_10.jpg" alt="">
		   <div class="slider__caption">Routing between various components (shown in thick red lines)</div>
    </div>
	   <div class="slider__item">
      <img src="img/Week 7/SHots/Screenshot_11.jpg" alt="">
		    <div class="slider__caption">My two paths/traces (white box) were about to overlap/short and hence a 0 Ohm resitor helps in creating a bridge </div>
    </div>
	   <div class="slider__item">
      <img src="img/Week 7/SHots/Screenshot_12.jpg" alt="">
    </div>
	  <div class="slider__item">
      <img src="img/Week 7/SHots/Screenshot_13.jpg" alt="">
	  </div>
	  <div class="slider__item">
      <img src="img/Week 7/SHots/Screenshot_13a.jpg" alt="">
	  </div>
	  <div class="slider__item">
      <img src="img/Week 7/SHots/Screenshot_14.jpg" alt="">
	  </div>
	  <div class="slider__item">
      <img src="img/Week 7/SHots/Screenshot_15.jpg" alt="">
	  </div>
	  <div class="slider__item">
      <img src="img/Week 7/SHots/Screenshot_16.jpg" alt="">
	  </div>
  </div>
  <div class="slider__switch slider__switch--prev" data-ikslider-dir="prev">
    <span><svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 20 20"><path d="M13.89 17.418c.27.272.27.71 0 .98s-.7.27-.968 0l-7.83-7.91c-.268-.27-.268-.706 0-.978l7.83-7.908c.268-.27.7-.27.97 0s.267.71 0 .98L6.75 10l7.14 7.418z"/></svg></span>
  </div>
  <div class="slider__switch slider__switch--next" data-ikslider-dir="next">
    <span><svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 20 20"><path d="M13.25 10L6.11 2.58c-.27-.27-.27-.707 0-.98.267-.27.7-.27.968 0l7.83 7.91c.268.27.268.708 0 .978l-7.83 7.908c-.268.27-.7.27-.97 0s-.267-.707 0-.98L13.25 10z"/></svg></span>
  </div>
</div>
			</br>
</section>
		<p class="text-justify">15. Next go to file and the click Switch to board, this opens up the board view in new window, here you can set the trace width and clearance, to name a few. The yellow
lines display unrouted traces. <br>
16. Select and move the components into the window. <br>
17 The way to solve routing is:<br>
   a)First solve the LED array grid.<br>
   b)Then fix the ATtiny 44.<br>
   c)Create GND such that it can connect components both inside as well as outside.<br>
   d)Do the same for VCC.<br>
   e) A golden tip would be use autorouter when you have placed around 70% of your components. It will give you clues how to rearrange the components.<br>

18. I made some major mistakes during routing the connections between LEDs of the the array. I forgot 4 series connections between the LEDs and due to shortage of time,
had to make an alternative during soldering by overflowing extra solder between pads. <br>

19. Finally a rule of thumb, the thickness of the traces should be 0.016 inch, this is neither too much nor too less. Also, keep the distance between two traces 0.016
inch. I used 1/64 inch on SRM-20 to mill my board and it came out pretty good.   </p>
		  <p><strong>Final PCB design and programming</strong></p>
	 <br>
		<section id="gallery">
 <div class="slider-container second">
  <div class="slider"><div class="slider__item">
      <iframe width="910" height="512" src="https://www.youtube.com/embed/MRwHMuDoFXU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
    </div>
    <div class="slider__item">
      <img src="img/Week 7/SHots/Screenshot_18.jpg" alt="">
    </div>
	  <div class="slider__item">
      <img src="img/Week 7/SHots/Screenshot_19.jpg" alt="">
    </div>
	   <div class="slider__item">
      <img src="img/Week 7/SHots/Canon/IMG_9552.JPG" alt="">
    </div>
	  <div class="slider__item">
      <img src="img/Week 7/SHots/Canon/IMG_9554.JPG" alt="">
    </div>
	  <div class="slider__item">
      <img src="img/Week 7/SHots/Canon/IMG_9567.JPG" alt="">
    </div>
	  <div class="slider__item">
      <img src="img/Week 7/SHots/Screenshot_20.jpg" alt="">
    </div>
	  <div class="slider__item">
      <img src="img/Week 7/SHots/Screenshot_21.jpg" alt="">
    </div>
	  <div class="slider__item">
      <img src="img/Week 7/SHots/Screenshot_22.jpg" alt="">
    </div>
	  <div class="slider__item">
      <img src="img/Week 7/SHots/Canon/IMG_9556.JPG" alt="">
    </div>
	  <div class="slider__item">
      <img src="img/Week 7/SHots/Canon/IMG_9559.JPG" alt="">
    </div>
  </div>
  <div class="slider__switch slider__switch--prev" data-ikslider-dir="prev">
    <span><svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 20 20"><path d="M13.89 17.418c.27.272.27.71 0 .98s-.7.27-.968 0l-7.83-7.91c-.268-.27-.268-.706 0-.978l7.83-7.908c.268-.27.7-.27.97 0s.267.71 0 .98L6.75 10l7.14 7.418z"/></svg></span>
  </div>
  <div class="slider__switch slider__switch--next" data-ikslider-dir="next">
    <span><svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 20 20"><path d="M13.25 10L6.11 2.58c-.27-.27-.27-.707 0-.98.267-.27.7-.27.968 0l7.83 7.91c.268.27.268.708 0 .978l-7.83 7.908c-.268.27-.7.27-.97 0s-.267-.707 0-.98L13.25 10z"/></svg></span>
  </div>
</div>
			</br>
</section> 
		  <p class="text-justify">
				1. My board can run both hello echo(http://academy.cba.mit.edu/classes/embedded_programming/index.html#echo) as well as hello array(http://academy.cba.mit.edu/classes/output_devices/index.html)(from week 13).
 Hence, I downloaded the "C" and "make" file for both from the individual weeks.
They could be found here.<br>
2. Since I am using windows, I will use Git Bash to execute the commands and test my board. (http://academy.cba.mit.edu/classes/embedded_programming/hello.ftdi.44.program.png)<br>
3. I opened GitBash from the same folder where I had saved C and make files. <br>
4. Execute, make -f hello.ftdi.44.echo.c.make, to compile the programme.<br>
5. Execute, make -f hello.ftdi.44.echo.c.make program-usbtiny-fuses, to set the fuses. You should see avrdude done. Thank you. at the end.<br>
6. Execute, make -f hello.ftdi.44.echo.c.make program-usbtiny, this will flash the programme to the IC. <br><br>

Now to run hello array follow the same steps above except that I renamed the file to hello.array.44.2.c.make<br>
7. Execute, make -f hello.array.44.2.c.make, , to compile the programme.<br>
8. Execute, make -f hello.array.44.2.c.make program-usbtiny-fuses<br>
9. Execute, make -f hello.array.44.2.c.make program-usbtiny, this will flash the programme to the IC. <br>
			</p>
  </div>
</div>
		 </div>
	</div>
</div>
</section>
<!-- Footer -->
<footer>
<div class="container text-center">
	<p class="credits">
		ALL PROJECTS WERE CREATED UNDER CREATIVE COMMONS LICENSE<br/>
		CREATED AT VIGYAN ASHRAM, PUNE UNDER FAB ACADEMY
	</p>
</div>
</footer>
<!-- jQuery -->
<script src="js/jquery.js"></script>
<!-- Bootstrap Core JavaScript -->
<script src="js/bootstrap.min.js"></script>
<!-- Plugin JavaScript -->
<script src="js/jquery.easing.min.js"></script>
<!-- Custom Theme JavaScript -->
<script src="js/theme.js"></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js'></script>
<script src="js/myeqlr.js"></script>
</body>
</html>